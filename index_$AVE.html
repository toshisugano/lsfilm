<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Leeches</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/favicon.ico">
        <link rel="stylesheet" type="text/css" href="styles/main.css">
        <script src="../bower_components/jquery/dist/jquery.js"></script>
        <script src="../bower_components/underscore/underscore-min.js"></script>
        <script src="../bower_components/backbone/backbone.js"></script>
        <!-- endbuild -->
    <script> 
    function checkWin() {
            //set global variables
            //if the window width is less than or equal to 550 
            //change the img header to the small jpg background image
            //img-header is another container nested in the header container
            //Set the img src of the img-header to the small jpg image
            //Create a new Nav view for smaller screens
            winWidth = $(window).width();
            winScroll = $(window).scrollTop();
            headHeight = (winWidth / 2.5) + 2; 
            var numtoNeg = headHeight * -1;
            if (winWidth <= 550) {
                var src = "images/Leeches-Header-5-Small.jpg"
                $('.header-container').css({"height" : headHeight});
                var $imgheader = $('#img-header');
                $imgheader.attr("src", src);
                $(document).ready(function(){
                    var navViewSmall = new NavViewSmall();
                    var nvs = navViewSmall.render().el;
                    $('.nav-container').html(nvs); 
                    $(window).scrollTop(0);
                });
                
            }
            //if the window width is greater than or equal to 550 
            //Run the imagefade slider
            //Create a new Nav View for the large version
            else if(winWidth >= 550) {
                imageSlide();
                $('.nav-container').css({"height" : "45px"});
                $(document).ready(function(){
                    var navViewLarge = new NavViewLarge();
                    var nvl = navViewLarge.render().el;
                    $('.nav-container').html(nvl);
                });
            }
            
        }
        //Create an empty array
        //Function that pushes items onto the array
        //Run checkwin if the number of items in the array is 5
        slidesArray = [];
        function preloaded(data) {
            slidesArray.push(data);
            if (slidesArray.length === 5) {
                checkWin();
            }
        }   
    </script>
        
    </head>
    <body>
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]--> 

        <!-- This is a hidden container that loads images in the background -->
        <div id="image-loader">
            <ul>
                <li><img src="images/Leeches-Header-1-Large.jpg" onload="preloaded('A')"/></li>
                <li><img src="images/Leeches-Header-2-Large.jpg" onload="preloaded('B')"/></li>
                <li><img src="images/Leeches-Header-3-Large.jpg" onload="preloaded('C')"/></li>
                <li><img src="images/Leeches-Header-4-Large.jpg" onload="preloaded('D')"/></li>
                <li><img src="images/Leeches-Header-5-Large.jpg" onload="preloaded('E')"/></li>
            </ul>
        </div>

        <!-- This is the container for the admin panel -->
        <div id="overlaycontainer">
            <div id="overlay-nav">
            </div>
            <div id="overlay-app">
            </div>
        </div>

        <div id="main-container">
            <!-- This is the black bar where all the social media links reside -->
            <section class="social-media">
                <div id="float-right">
                    <a href="https://www.facebook.com/leechesfilm" target="blank"><i class="fa fa-facebook-square">&nbsp </i></a>
                    <a href="https://twitter.com/leechesfilm" target="blank"><i class="fa fa-twitter-square">&nbsp </i></a>
                    <a href="https://www.youtube.com/user/farfara1561" target="blank"><i class="fa fa-youtube">&nbsp </i></a>
                    <a href="https://www.flickr.com/photos/133104268@N05/" target="blank"><i class="fa fa-flickr">&nbsp </i></a>
                </div>
            </section>
            <!-- This is the header where the image slider takes place -->
            <section class="header-container">
                <img id="img-header" src="images/Leeches-Header-Large.jpg"/>
            </section>
            <!-- Container for the navigation -->
            <nav class="nav-container">
            </nav>
            <!-- Container for all the content resides -->
            <div id="app"> 
            </div>

            <footer id="footer">
                <div id="hruler"></div>
                <div class="footer-container">
                    <div class="float-left">
                        <a href="http://www.filmkaravan.com" target="blank"><img src="images/logo.jpg"/></a>
                        <a href="https://www.facebook.com/leechesfilm" target="blank"><i class="fa fa-facebook-square">&nbsp </i></a>
                        <a href="https://twitter.com/leechesfilm" target="blank"><i class="fa fa-twitter-square">&nbsp </i></a>
                        <a href="https://www.youtube.com/user/farfara1561" target="blank"><i class="fa fa-youtube">&nbsp </i></a>
                        <a href="https://www.flickr.com/photos/133104268@N05/" target="blank"><i class="fa fa-flickr">&nbsp </i></a>
                    </div>
                    <div class="float-left" id="footer-text">
                        <div>
                        <ul>
                            <li><a href="#/">HOME</a></li>   
                            <li><a href="#/about">ABOUT</a></li>
                            <li><a href="#/team">TEAM</a></li>
                            <li><a href="#/updates">UPDATES</a></li>
                            <li><a href="#/contact">CONTACT</a></li>
                        </ul>
                        </div>
                    </div>
                    <div class="float-left" id="footer-text">
                        <div>
                        <ul>
                            <li><a href="#/login">LOGIN</a></li>   
                            <li><a href="#/synopsis">FESTIVALS</a></li>
                            <li><a href="#/team">CROWDFUNDERS</a></li>
                        </ul>
                        </div>
                    </div>
                    <div id="notes">
                        <div>
                            <p id="notes-copyright"></p>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    
        <!-- build:js scripts/vendor.js -->
        <!-- bower:js -->
        
        
        <!-- endbower -->
        <!-- endbuild -->

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>

        <!-- build:js({app,.tmp}) scripts/main.js -->
        <script>

        //GLOBAL VARIABLES
        var admin;
        var names;
        var loginData = {};
        var jsondata = {};
        var theMonth;
        var today;
        var theDate = new Date();
        var getYear = theDate.getFullYear();
        var getMonth = theDate.getMonth();
        var getDate = theDate.getDate(); 
        var headHeight;
        var slides;
        var flickrJSON = "https://api.flickr.com/services/rest/?format=json&method=flickr.photosets.getPhotos&api_key=9c6890265e6ddc6256cf9222ccc7f0b1&photoset_id=72157655219839730&user_id=133104268@N05&jsoncallback=?";

        //Sets and resets variables when window is resized and scrolled
        function setVars() {
            //Window Scroll top
             windowTop = $(window).scrollTop();
             //Window width
             windowWidth = $(window).width();
             //Height of the img header in pixels
             windowRatio = (windowWidth / 3.25) + 9;
             //Above plus offset adjustment for spacing discrepancy in the nav bar
             windowRatioPlus = (windowWidth / 3.25) + 15;
             //Height of the img header small in pixels
             windowSmallRatio = (windowWidth / 3.25);

             
             //Location of the top of the nav bar relative to the img header
             navMargin = windowWidth / 10.5; 
             //Neg value of the above
             negMargin = navMargin * -1;
             //Img header minus height of the nav bar location
             numToNeg = ((windowRatio * -1) - navMargin) + 6;
             numToNegSmall = (windowSmallRatio * -1) - 53;
        }
        setVars();

        //Resets the scrolltop when routes are called 
        function navReset() {
            diaryJSON = [];
            if (windowWidth <= 550) {
                $(window).scrollTop(windowRatioPlus);
                $('#app').css({"margin-top" : "80px"});
            }

            else if(windowTop >= windowRatio) {
                $(window).scrollTop(windowRatioPlus);
                $('#app').css({"margin-top" : "20px"});
            }
            adjustNav(); 
        }

        function adjustNav() {
            switch (wWidthScroll(windowWidth, windowTop, windowRatio)) {
                case ">550" :
                  $('.nav-container').css({"position":"fixed", "margin-top": numToNeg, "opacity":"1"});
                  $('.nav-container li').css({"margin-top":"-15px"});
                  break;
                case "<=550" :
                  $('.nav-container').css({"position":"fixed", "margin-top": numToNegSmall});
                  $('.nav-container li').css({"margin-top":"-15px"});
                  break;
                case "<=475" :
                  $('.nav-container').css({"position":"fixed", "margin-top": numToNegSmall + 9});
                  $('.nav-container li').css({"margin-top":"-15px"});
                  break;
                case "<=375" :
                  $('.nav-container').css({"position":"fixed", "margin-top": numToNegSmall + 15});
                  $('.nav-container li').css({"margin-top":"-15px"});
                  break;
                case "<320" :
                  $('.nav-container').css({"position":"fixed", "margin-top": numToNegSmall + 20});
                  $('.nav-container li').css({"margin-top":"-15px"});
                  break;
                default :
                   $('.nav-container').css({"position":"relative", "margin-top":"", "opacity":".8"});
                   $('.nav-container li').css({"margin-top":""});
            }
            if ((windowWidth <= 550) && (windowTop <= windowRatio)) {
                $('#app').css({"margin-top" : "20px"});
            }
        }

        //The background imagerfader
        function imageSlide() {
            slides = [];
            //Make sure that the IMG SRC height is set to headheight
            //$('#img-header').css("height" : headHeight);
            $('.header-container').css({"height" : headHeight});
            //Grab all the img elements with the id of image-loader
            slides = $('#image-loader img');
            //Get the number of elements pulled and save as variable
            var slideCount = slides.length; 
            //Create an empty array container
            var slideSrc = [];
 
           //Go through each of the slide elements 
            slides.each(function(i, data){
                //Get the src attribute for each slide element
                imgSrc = data.src;
                //Push each src onto the slideSrc array
                slideSrc.push(imgSrc);
            });
            //Go through each of the elements in the slideSrc array
            //For each element, run a function that goes through each value
            //Then sets the src attribute to the new value
            $.each(slideSrc, function(i, src){
                setTimeout(function(){
                    var $imgheader = $('#img-header');
                    $imgheader.hide();
                    $imgheader.attr("src", src).fadeIn(500);     
                    }, 5000 * i);

            });
            
        }

        //**** CHECK WINDOW WIDTH Function ****//
        function wWidthScroll(ww, wt, wr) {
            //if ww is greater than 550
            if ((ww <= 320) && (wt >= wr)) {
                return "<320";
            }
            if (((ww > 320) && (ww <= 375)) && (wt >= wr)) {
                return "<=375";
            }
            if (((ww > 375) && (ww <= 475)) && (wt >= wr)) {
                return "<=475";
            }
            //if ww is less than or equal to 550 AND greater than 475
            if (((ww <= 550) && (ww > 475)) && (wt >= wr)) {
                return "<=550";
            }
            if ((ww > 550) && (wt >= wr))  {
                return ">550";
            }
        }
 
        $(window).scroll(function(){
             setVars();  
             adjustNav();
        });

        //**** Window Re-size Funtion ****
        $(window).resize(function(){ 
            checkWin();
            navReset(); 
            windowRatio = (winWidth / 3.25) - 10;
            var imgHeight = (winWidth / 3.25) + 13;
            if (winScroll >= windowRatio) {
                $(window).scrollTop(imgHeight);
            }
        });

        //**** Copyright Year Function ****
        function copyright() {
            var fullDate = new Date();
            var getYear = fullDate.getFullYear();
            var cr = "&copy Copyright " + getYear + " FilmKaravan Productions";
            $('#notes-copyright').html(cr);
            }
        copyright(); 

        //Set the whole date including month, date, year
        function thisDay() {
                month = {
                        0 : "January",
                        1 : "February",
                        2 : "March",
                        3 : "April",
                        4 : "May",
                        5 : "June",
                        6 : "July",
                        7 : "August",
                        8 : "September",
                        9 : "October",
                        10 : "November",
                        11 : "December"
                };
                for (i=0; i<12; i++) {
                    theMonth = month[getMonth];  
                }
                today = theMonth + "." + getDate + "." + getYear;
        }
        thisDay(); 

        //SendCONTACT data to the server
        function contactphp() {
            $.ajax({
                type: 'POST',
                url: 'ajax.php',
                data: jsondata,
                success: function(response){
                     alert("Your message was delivered!");
                },
                error: function(xhr){
                 
                }
            });
        }

        //Send the diaryOBJ to the php file on the server
        function postDiary() {
            var postAJAX = $.ajax({
                type: 'POST',
                url: 'diary.php',
                data: diaryOBJ,
                success: function(response){

                },
                error: function(xhr){
                 
                }
            });
            //Once the AJAX call is made, then  hide the overlaycontainer and reload location
            postAJAX.then(function(){
                $('#overlaycontainer').css({"display":"none","z-index":"-1"});
                window.location.href = "";
            });
        }

        function postNews() {
            var postAJAX = $.ajax({
                type: 'POST',
                url: 'news.php',
                data: newsOBJ,
                success: function(response){
                    
                },
                error: function(xhr){
                 
                }
            });
            //Once the AJAX call is made, then  hide the overlaycontainer and reload location
            postAJAX.then(function(){
                $('#overlaycontainer').css({"display":"none","z-index":"-1"});
                window.location.href = "";
            });
        }

        function setAdmin() { 
            var data = loginData.username;
            var loginUser = data.toLowerCase();
            loginData.username = loginUser;
            names = {
                "payal" : "Payal Sethi",
                "director" : "Payal Sethi",
                "apoorva" : "Apoorva Marur",
                "samir" : "Samir",
                "writer" : "Samir",
                "pooja" : "Pooja Kohli Taneja",
                "riddhi" : "Riddhi Desai",
                "farooq" : "Farooq Hundekar",
                "lipi" : "Lipi Bharadwaj",
                "sourav" : "Sourav Paul",
                "toshi" : "Toshi Sugano"
            };
            admin = names[loginUser];
        }

        function loginPermission() {
            $.ajax({
                type: 'POST',
                url: 'login.php',
                data: loginData,
                success: function(response){
                    if (response == true) {
                        $("#overlay-nav").empty();
                        $("#overlay-app").empty();
                        window.location.href = "#/admin/diary";
                    } 
                    else {
                        $('#login-error').html("Wrong username and/or password");
                    }
                },
                error: function(xhr){
                
                }
            });
        }

        //Send pogindata to the login.php server side
        //If response is true, then run postDiary
        function diaryVerify() {
            $.ajax({
                type: 'POST',
                url: 'login.php',
                data: loginData,
                success: function(response){
                    if (response == true) {
                        postDiary();
                    } 
                    else {
                        alert('Please Log In');
                    }
                },
                error: function(xhr){
                
                }
            });
        }

        function newsVerify() {
            $.ajax({
                type: 'POST',
                url: 'login.php',
                data: loginData,
                success: function(response){
                    if (response == true) {
                        postNews();
                    } 
                    else {
                        alert('Please Log In');
                    }
                },
                error: function(xhr){
                }
            });
        }
        //Get all inputs from the screen and then values to diaryOBJ variable;
         

        function newsInputs() {
            console.log("newsInputs");
            $(':input').each(function(i, data){
            var that = $(this);
            var key = that.attr('name');
            var value = that.val();
            newsOBJ[key] = value;
            newsOBJ['date'] = today;
            newsOBJ['user'] = "Posted by : " + admin;
            });
        }

        function flickrAPI() {
            $(':input').each(function(i, data){
                                var that = $(this);
                                var key = that.attr('name');
                                var value = that.val();
                                diaryOBJ[key] = value;
                                diaryOBJ['date'] = today;
                                diaryOBJ['user'] = "Posted by : " + admin;
                            });
            
            $.getJSON(flickrJSON, function(data) { 
                //Go through each of the photos returned
                $.each(data.photoset.photo, function(index, obj){
                    //save variables
                    var farm_id = obj.farm;
                    var secret = obj.secret;
                    var server = obj.server;
                    var photo_id = obj.id; 
                    //get the image1 URL and save as variable
                    var diary_img1 = diaryOBJ.image1;
                    var diary_img2 = diaryOBJ.image2;
                    //If undefined, then change to blank.jpg
                
                    if (diary_img1 === "") {
                        diaryOBJ['image1'] = "images/bg-blank.jpg";
                    }

                    if (diary_img2 === "") {
                        diaryOBJ['image2'] = "images/bg-blank.jpg";
                    }

                    var img1_slice = diary_img1.slice(44, 55);
                    console.log(img1_slice);
                    
                    var img2_slice = diary_img2.slice(44, 55);
                

                    if (img1_slice === photo_id) { 
                        diaryOBJ.image1 = "https://farm" + farm_id + ".static.flickr.com/" + server + "/" + photo_id + "_" + secret + "_" + "m.jpg";
                    }

                    if (img2_slice === photo_id) {
                        diaryOBJ.image2 = "https://farm" + farm_id + ".static.flickr.com/" + server + "/" + photo_id + "_" + secret + "_" + "m.jpg";
                    } 
                });
            }); 
        

        }

        function urlReload() {
            $(document).ready(function(){
            //Check if the current URL contains '#'
                if(document.URL.indexOf("#")==-1) {
                    // Set the URL to whatever it was plus "#".
                    url = document.URL+"#";
                    location = "#";
                    //Reload the page
                    location.reload(true);
                }
            });
        }

        //**** BEGIN BACKBONE MVC CODE ****

        //**** NAV BAR VIEW(s)****
        var NavBarsView = Backbone.View.extend({
            tagName: 'div',
            className: 'nav-bars-container',
            template: _.template('<ul>' +
                '<li><a id="nav-bar-menu" href="#/">HOME</a></li>' +
                '<li><a id="nav-bar-menu" href="#/about">ABOUT</a></li>' +
                '<li><a id="nav-bar-menu" href="#/updates">UPDATES</a></li>' +
                '<li><a id="nav-bar-menu" href="#/festivals">FESTIVALS</a></li>' + 
                '<li><a id="nav-bar-menu" href="#/team">TEAM</a></li>' +
                '<li><a id="nav-bar-menu" href="#/watch">WATCH</a></li>' +
                '<li><a id="nav-bar-menu" href="#/contact">CONTACT</a></li>' +
                '</ul>'
                ),
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

        var NavViewLarge = Backbone.View.extend({
            tagName: 'div',
            className: 'nav-menu-container',
            template: _.template('<ul><div id="nav-menu-a"><li><a id="nav-home" href="#/">HOME</a></li><li><a id="nav-synopsis" href="#/about">ABOUT</a></li><li><a id="nav-news" href="#/updates">UPDATES</a></li><li><a id="nav-diary" href="#/festivals">FESTIVALS</a></li></div><div id="nav-menu-b"><li><a id="nav-team" href="#/team">TEAM</a></li><li><a id="nav-news" href="#/watch">WATCH</a></li><li><a id="nav-contact" href="#/contact">CONTACT</a></li></div></ul>'),
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

        var NavViewSmall = Backbone.View.extend({
            tagName: 'div',
            className: 'nav-menu-container',
            template: _.template('<ul><li><a href=""><i id="nav-bars" class="fa fa-bars">&nbsp</i></a></li></ul>'),
            events: {
                "click #nav-bars" : "showBars"
            },
            showBars: function(e) {
                e.preventDefault();
                //Empty the navMenu div 
                var $navMenu = $('.nav-menu-container');
                $navMenu.empty();
                $('.nav-container').css({"height" : "90px"});
                var navBarsView = new NavBarsView();
                var nvb = navBarsView.render().el;
                $navMenu.html(nvb);
                navReset();
            },
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

        //**** INDEX MODEL ****
        var IndexModel = Backbone.Model.extend({
           defaults: {}
        });

        //INDEX MODEL INSTANCES
        var indexModel = new IndexModel({   
        "image1" : "images/img-1.jpg",
        "h1" : "Introduction",
        "p1" : "Officially, India is a developing country, but the reality of existence for the underbelly of the population that lives below the poverty line is very much a third-world one. I wrote LEECHES to highlight the practice of contract marriages in communities so disadvantaged that they have allowed themselves to mask what is blatantly a sex-slave trade behind the veil of acceptable religious ritual.",
        "p2" : "In Hyderabad’s old city, rich businessmen prey on the virginity of underage girls in an archaic practice that is still propagated under the auspices of Islamic marriage laws, which allow a man to have four wives at a time. These men take brides for short periods, sometimes just a night, with rates varying according to the duration of the marriage, leading to the nickname 'one-day bride'. An intricate web of opportunists facilitate this flesh trade, including many clerics, who work for clients with a predilection for teenage-virgin brides.",
        "image2" : "images/img-2.jpg",
        "p3" : "I came across this practice while living in the city two years ago, thereafter researching the facts through Shaheen, an NGO that helps girls who run away from such arrangements, forced upon them by desperate or greedy families.", 
        "p4" : "I chose the character of Raisa as the protagonist because she represents the great courage of spirit possessed by girls who refuse to accept these sham marriages as their fate.  Regardless of Raisa’s fate in the film, her actions bring hope to a dark reality. With his film, it is my aim to capture the frenetic, terrifying energy of the old city & the desperation of its people, set against the timelessness of the Charminar, a metaphor for Raisa’s eternal sacrifice in the film."
        });
        
        //**** Index View ****
        var IndexView = Backbone.View.extend({
            tagName: 'div',
            className: 'index-container',
            template: _.template('<section id="index-container">' +
                '<iframe id="vimeo-frame" src="https://player.vimeo.com/video/132404733" width="80%" height="390" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p id="index-center"><a href="https://vimeo.com/132404733">Leeches Teaser</a> from <a href="https://vimeo.com/user2912300">Payal Sethi</a> on <a href="https://vimeo.com">Vimeo</a>.</p>' +
            '</section>'), 
            render: function(){
                view = this.model.toJSON();
                this.$el.html(this.template(view));
                return this;
            }

        });

        //**** SYNOPSIS MODEL ****
        var SynopsisModel = Backbone.Model.extend({
            defaults: {}

        });

        var synopsisModel = new SynopsisModel({
            "h1" : "2015 | INDIA | 27 MINS",
            "h2" : "DIRECTOR'S STATEMENT",
            "h3" : "FILMMAKER",
            "image1" : "images/payal_small.jpg",
            "p1" : "In the chaotic old city of Hyderabad, 16-year old Raisa hatches a dangerous and improbable plan to save her younger sister from becoming a one-day bride. ",
            "p2" : "Officially, India is a developing country, but the reality of existence for the underbelly of the population that lives below the poverty line is very much a third-world one.  This film portrays the practice of contract marriages in communities so disadvantaged that they have masked what is blatantly a sex-slave trade behind the veil of acceptable religious ritual. In Hyderabad’s old city, rich businessmen prey on the virginity of underage girls in an archaic tradition that is still propagated under the auspices of Islamic marriage laws. These men take brides for short periods, sometimes just a night. They call these girls one-day-brides. Contract marriage is a last resort for families in Muslim ghettos; a cleric draws up both marriage and divorce contracts simultaneously so that the businessman may end the ‘marriage’ whenever he is ready to leave the city. ",
            "p3" : "Payal Sethi graduated from Vassar College with a major in Film Production & History. She also studied 16mm film production at NYU's Tisch School of the Arts. After graduating, she worked at Mira Nair's Mirabai Films on the The Namesake, Hysterical Blindness and Vanity Fair, and later at the Tribeca Film Festival. From 2007-2009 she managed the TFI Sloan Filmmaker Fund before launching her own company, FilmKaravan. <br> <br>She has programmed screenplays and films, and managed industry relations at premier film festivals and markets in New York. She has worked with the IFP Market, Hamptons International Film Festival, New York Indian Film Festival, and Asian American International Film Festival. Her last short film, Grant St. Shaving Co. won several international awards and played at major international film festivals worldwide. <br><br> She is currently developing a dramedy titled Ooty Queen, and Panther, a wildlife crime thriller, for which she received  Asia Society's New Voices Fellowship for Screenwriters in 2012.<br><br>"
        });

        //**** ABOUT/Synopsis VIEW ****
        var SynopsisView = Backbone.View.extend({
            tagName: 'div',
            className: 'synopsis-container',
            template: _.template(
                    '<div id="synopsis-view">' + 
                        '<div id="synopsis-p">' +
                            '<h2><%= h1 %></h2>' +
                            '<p><%= p1 %></p>' +
                            '<br>' +
                            '<h2><%= h2 %></h2>' +
                            '<p><%= p2 %></p>' +
                            '<br>' +
                            '<h2><%= h3 %></h2>' +
                            '<img id="img-director" src="<%= image1 %>"/>' +
                            '<p><%= p3 %></p>' +
                        '</div>' +
                    '</div>'
                 ), 
            render: function(){
                sview = this.model.toJSON();
                this.$el.html(this.template(sview));
                return this;
            }
        });

        // **** CONTACT VIEW ****
        //On Submit, run a function that serializes the JSON data and sends to the server
        var ContactView = Backbone.View.extend({
            tagName: 'div',
            className: 'contact-container',
            template: _.template(
                '<div id="contact-view">' +
                    '<div id="contact-info"><h2>Email Us!</h2><br><h4>We would love to hear from you!</h4><br><ul><li><h3>Director/Producer : <a href="mailto:payalsethi1202@gmail.com">Payal Sethi</a></h3></li><li><h3>General : <a href="mailto:info@leechesfilm.com.com">info@leechesfilm.com</a></h3></li><li><h3>Press : <a href="mailto:press@leechesfilm.com">press@leechesfilm.com</a></h3></li><li><h3>Phone : <a href="tel:+111-111-1111">+1 (432)-123-4567</a></h3></li></ul></div>' +
                    '<div id="vruler1"></div>' +
                    '<div id="contact-info">' +
                        '<form method="post" id="contact-f"><p><label for="firstname" class="contact-input-label">First Name</label> <br/><input class="contact-input-text" name="firstname" type="text" maxlength="30" autofocus required /></p><p><label for="lastName" class="contact-input-label">Last Name</label> <br/><input class="contact-input-text" name="lastname" type="text" maxlength="30" required/></p><p><label for="email" class="contact-input-label">E-Mail</label> <br/><input class="contact-input-text" name="email" type="email" maxlength="40" required/></p><p><label for="telephone" class="contact-input-label">Phone Number</label> <br/><input class="contact-input-text" name="telephone" type="tel" /></p><p><label for="message" class="contact-input-label">Message</label> <br/><textarea class="contact-input-text" id="contact-text-message" name="message"></textarea></p><p id="submit-button">Submit</p></form>' +
                    '</div>' +
                    '<div id="vruler2"></div>' +
                    '<div id="contact-social-media"><h2>Social Media</h2><ul><li><h3><a href="https://www.flickr.com/photos/133104268@N05/" target="blank"><i class="fa fa-flickr">&nbsp </i></a>&nbsp&nbspFlickr</h3></li><li><h3><a href="https://twitter.com/leechesfilm" target="blank"><i class="fa fa-twitter"></i></a>&nbsp&nbspTwitter</h3></li><li><h3><a href="https://www.facebook.com/leechesfilm" target="blank"><i class="fa fa-facebook-square">&nbsp </i></a>&nbsp&nbspFacebook</h3></li><li><h3><a href="https://www.youtube.com/user/farfara1561" target="blank"><i class="fa fa-youtube"></i></a>&nbsp&nbspYoutube</h3></li></ul></div>' +
                '</div>'
            ),

            events: {
                "click #submit-button": "postJSON"
            },

            postJSON: function(){ 
                var permission = true;
                    //$(this).find('[name]').each(function(i, data) {
                    $(':input').each(function(i, data){
                        //Get input fields and set key value variables
                        var that = $(this); 
                        var key = that.attr('name');
                        var value = that.val();
                        jsondata[key] = value;
                        //Security measures
                        var characters = ["/", "{", "}", "[", "]", "*", "&", "<", ">", "%", "$", "#", "(", ")", "=", "'", '"'];
                        for (var i = 0; i < value.length; i++) {
                            for (var h = 0; h < characters.length; h++){
                                if (value.slice(i, i+1) === characters[h]) {    
                                permission = false;
                                }
                            } 
                        }

                    });
             
                if (permission === true){
                    contactphp();
                }
                if (permission === false) {
                    alert("For security reasons, please refrain from using the characters /, {}, [], *, &, %, $, #, (), =, and quotation marks.");
                }
                return false;
            },    
                render: function(){
                    this.$el.html(this.template());
                    return this;
                }
        });

        //**** NEWS MODEL CLASS ****
        var NewsModel = Backbone.Model.extend({
            defaults: {}
        });

        //**** NEWS COLLECTION ****
        var NewsItemList = Backbone.Collection.extend({
            model: NewsModel
        });

        var newsItemList = new NewsItemList();

        var articleList = [];


        //**** NEWS VIEW ****
        var NewsView = Backbone.View.extend({
            tagName: 'div',
            className: 'news-container',
            template: _.template(
                    '<h1>COMING SOON!</h1>' +
                    '<h3>Stay tuned for updates!</h3>' 
                ),
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

    
        //**** LOGIN NAVIGATION BAR VIEW ****
        var LoginNavView = Backbone.View.extend({
            tagName: 'div',
            className: 'login-nav-container',
            template: _.template('<ul><li><h2>ADMIN</h2></li><li id="overlay-float-right"><a href=""><h2>X</h2></a></li></ul>'),
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

        //**** LOGIN INPUTS VIEW ****
        var LoginModelView = Backbone.View.extend({
            tagName: 'div',
            className: 'login-model-container',
            template: _.template('<p>{Please Log In}</p><hr/><form method="post" id="login-admin"><p><br/><input id="login-username" name="username" type="text" maxlength="100"></input></p><div class="diary-add" id="add-title"><p>Username</p></div><p><br/><input id="login-password" name="password" type="password" maxlength="100"></input></p><div class="diary-add" id="add-img1"><p>Password</p></div><br/><br/><div id="login-error"></div>><div id="submit-login"><p id="login-submit">SUBMIT</p></div></form>'),
            events: {"click #login-submit" : "getLogin"},
            getLogin: function() {
                loginData = {};

                $(':input').each(function(i, data){
                    var that = $(this); 
                    var key = that.attr('name');
                    var value = that.val();
                    loginData[key] = value;
                });
                setAdmin();

                loginPermission();

            },
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

        var AdminNavView = Backbone.View.extend({
            tagName: 'div',
            className: 'admin-nav-container',
            template: _.template('<ul><li><a id="admin-news" href="#/admin/news"><h2>NEWS</h2></a></li><li id="overlay-float-right"><a href=""><h2>X</h2></a></li></ul>'),
            events: {
                "click #admin-diary": "adminDiary",
                "click #admin-news": "adminNews"
            },
            adminDiary : function() {
                $('#overlay-nav').css({"background-color":"#841a02"});
            },
            adminNews : function() {
                $('#overlay-nav').css({"background-color":"#31837c"});
            },
            render: function(){
                this.$el.html(this.template());
                return this;
            }
        });

        var AdminDiaryView = Backbone.View.extend({
            tagName: 'div',
            className: 'admin-nav-container',
            template: _.template('<p>{CREATE A DIARY ENTRY}</p><hr/><form method="post" id="diary-edit"><p><br/><input id="diary-edit-title" name="title" type="text" maxlength="100"></input></p><div class="diary-add" id="add-title"><p>Add Title</p></div><p><br/><input id="diary-edit-image" name="image1" type="text" maxlength="100" placeholder="Example http://flickr.com/photos/57s4895959/c.jpg"></input></p><div class="diary-add" id="add-img1"><p>Add Image 1</p></div><p><textarea id="diary-edit-p1" name="p1" type="text" maxlength="500" autofocus ></textarea></p><div class="diary-add" id="add-p1"><p>Add&nbspText Block&nbsp1</p></div><p><br/><input id="diary-edit-image" name="image2" type="text" maxlength="100"></input></p><div class="diary-add"><p>Add Image 2</p></div><p><textarea id="diary-edit-p2" name="p2" type="text" maxlength="500" autofocus ></textarea></p><div class="diary-add"><p>Add&nbspText Block&nbsp2</p></div><br><br><div id="preview-diary"><p>Preview</p></div><div id="diary-article-preview"></div><div id="submit-diary"><a href=""><p>Publish</p></a></div>'),
            events: {
                "click #preview-diary": "previewDiary",
                "click #submit-diary": "submitDiary",
                "click #overlay-float-right": "closeOverlay"
                    },
            previewDiary: function(e) {
                e.preventDefault();
                previewList = [];
                 
                flickrAPI();

                previewList.push(diaryOBJ);
                previewCollectionList.reset(previewList);
                var previewCollectionView = new PreviewCollectionView({collection: previewCollectionList});
                var pmv = previewCollectionView.render().el;
                $('#diary-article-preview').html(pmv);  
            },
            submitDiary : function(e) {
                e.preventDefault(); 
                if (loginData === undefined) {
                    window.location.href = "#/login";
                }
                diaryVerify();
            },
            closeOverlay: function(e) {
                e.preventDefault();
                articleList = [];
                $(':input').each(function(index, obj) {
                    var that = $(this);
                    that.empty();
                });
                $('#overlaycontainer').css({"z-index":"-1"});
                location.reload();
                
                },
                render: function() {
                    this.$el.html(this.template());
                    return this;
                }
        });

         

        var PreviewModel = Backbone.Model.extend({
            defaults: {}
        });

        var notdefined = false;
        //Create an empty Javascript Object to push diary form inputs 
        
        var diaryOBJ = {
            "image1" : "",
            "image2" : "",
            "title" : "",
            "user" : "",
            "date" : today,
            "p1" : "",
            "p2" : ""
        };

        var newsOBJ = {
            "image1" : "",
            "image2" : "",
            "title" : "",
            "user" : "",
            "location" : "Bangalore",
            "date" : today,
            "p1" : "",
            "p2" : ""
        };

        // **** Preview Collection LIST **** //
        var previewList = [];

        var PreviewCollectionList = Backbone.Collection.extend({
            model: PreviewModel
        });
        
        var previewCollectionList = new PreviewCollectionList();

        //Define a diary model view class
        var PreviewModelView = Backbone.View.extend({
            tagName: 'preview-model-container',
            template: _.template(
                '<section>' +
                    '<h1><%= title %></h1>' +
                    '<h3><%= user %></h3>' +
                    '<h3><%= date %></h3>' +
                    '<hr>' +
                    '<p><%= p1 %></p>' +

                    ////*** RIGHT HERE!!! ***
                    '<img class="diary-model-img" src="<%= image1 %>"/>' + 
                    '<p><%= p2 %></p>' +
                    '<img class="diary-model-img" src="<%= image2 %>"/>' + 
                '</section>'
                ),
            render: function(){
                var pmv = this.model.toJSON();
                this.$el.html(this.template(pmv));
                return this;
            }
        });

        var PreviewCollectionView = Backbone.View.extend(
            {
                 tagName: 'div',
                 className: 'preview-collection-container',
                 
                 initialize: function() {
                    this.collection.on('reset', this.addAll, this);
                 },
                 addOne: function(data) {
                    var previewModelView = new PreviewModelView({model: data});
                    this.$el.append(previewModelView.render().el);
                 },
                 addAll : function() {
                    this.collection.forEach(this.addOne, this);
                 },

                 render: function(){
                    this.addAll();
                    return this;
                 }
            }
        );

        //Define Diary Model class
        var DiaryModel = Backbone.Model.extend({
            defaults: {}
        });

        //Create an empty array to contain diary model instances
        var diaryJSON = [];
        
        var articleList = [];
        
        //Define the diary collection class
        var DiaryCollectionList = Backbone.Collection.extend({
            model: DiaryModel
        });

        //Create a diary collection instance
        var diaryCollectionList = new DiaryCollectionList();
    
        //Define a diary model view class
        var DiaryModelView = Backbone.View.extend({
            tagName: 'div',
            className: 'diary-model-container',
            template: _.template(
                '<section>' +
                    '<h1><%= title %></h1>' +
                    '<hr>' +
                    '<h3><%= user %></h3>' +
                    '<h3><%= date %></h3>' +
                    '<p><%= p1 %></p>' +
                    '<img class="diary-model-img" src="<%= image1 %>"/>' + 
                    '<p><%= p2 %></p>' +
                    '<img class="diary-model-img" src="<%= image2 %>"/>' + 
                '</section>'
                ),
            render: function(){
                var dmv = this.model.toJSON();
                this.$el.html(this.template(dmv));
                return this;
            }
        });

        //Define a diary collection view
        var DiaryCollectionView = Backbone.View.extend(
            {
                 tagName: 'div',
                 className: 'diary-collection-container',
                 
                 initialize: function() {
                    this.collection.on('reset', this.addAll, this);
                 },
                 addOne: function(data) {
                    var diaryModelView = new DiaryModelView({model: data});
                    this.$el.append(diaryModelView.render().el);
                 },
                 addAll : function() {
                    this.collection.forEach(this.addOne, this);
                 },

                 render: function(){
                    this.addAll();
                    return this;
                 }
            }
        );


        //**** MODEL VIEW for each unique model ****
        var TeamView = Backbone.View.extend({
            tagName: 'div',
            className: 'team-model-container',
            template: _.template(
                '<div class="cast-view">' + 
                        '<h2>CAST</h2>' +
                        '<div class="cast-view-col-1">' + 
                            '<p>Raisa</p>' + 
                            '<p>Nawaz</p>' + 
                            '<p>Zainab</p>' +
                            '<p>Bilqis</p>' +
                            '<p>Ammi</p>' +
                            '<p>Shafiq</p>' +
                            '<p>Mariam</p>' +
                            '<p>Sheikh</p>' +
                            '<p>Oazi</p>' +
                        '</div>' + 
                        '<div class="cast-view-col-2">' + 
                            '<p>Sayani Gupta</p>' + 
                            '<p>Mohammed Abdul Razak</p>' + 
                            '<p>Preeti Golacha</p>' + 
                            '<p>Manju Raval</p>' + 
                            '<p>Najma Nusrat</p>' + 
                            '<p>Barkat Khan</p>' + 
                            '<p>Sherin Bhatt</p>' + 
                            '<p>Agha Asker Hussain</p>' + 
                            '<p>Moin Amar</p>' + 
                        '</div>' +
                '</div>' +
                '<div class="cast-view">' +
                    '<h2>CREW</h2>' +
                    '<div id="crew_1">' +
                        '<div class="cast-view-col-1">' + 
                                '<p>Writer, Director, Producer</p>' + 
                                '<p>Story</p>' + 
                                '<p>Director of Photography</p>' +
                                '<p>Composer</p>' +
                                '<p>Art Director</p>' +
                                '<p>Editor</p>' +
                                '<p>Sound Designer</p>' +
                                '<p>Dialogues</p>' +
                                '<p>Producer<br><br><br><br></p>' +
                                '<p>Executive Producers<br><br><br><br><br><br><br></p>' +
                                '<p>Co-Producers<br><br><br><br><br><br><br></p>' +
                                '<p>Casting</p>' +
                        '</div>' + 
                        '<div class="cast-view-col-1">' + 
                                '<p>Payal Sethi</p>' + 
                                '<p>Samir Patil</p>' + 
                                '<p>James Demetri</p>' +
                                '<p>Tanuj Tiku</p>' +
                                '<p>Hiromi Sano</p>' +
                                '<p>Vivan Chopra</p>' +
                                '<p>Udit Duseja</p>' +
                                '<p>Ali Hussain Mir</p>' +
                                '<p>Apoorva Marur</p>' +
                                '<p>Arvind Acharya</p>' +
                                '<p>Hansdip Bindra</p>' +
                                '<p>Samrat Chakrabarti</p>' +
                                '<p>Pooja Kohli</p>' +
                                '<p>Judith Marcellene</p>' +
                                '<p>Purab Kohli</p>' +
                                '<p>Rajeev Sarda</p>' +
                                '<p>Razzak & Amit</p>' +
                        '</div>' + 
                    '</div>' +
                    '<div id="crew_2">' +
                        '<div class="cast-view-col-1">' + 
                                '<p>Foley Artist</p>' + 
                                '<p>Set Photographer</p>' + 
                                '<p>Camera Rental</p>' +
                                '<p>ADR Studio Provider<br><br><br><br><br><br><br></p>' +
                                '<p>Graphic Designer</p>' +
                                '<p>Web Developer/Designer</p>' +
                                '<p>Marketing Intern</p>' +
                                '<p>Media Intern</p>' +
                                '<p>Associate Producers<br><br><br><br></p>' +
                        '</div>' + 
                        '<div class="cast-view-col-1">' + 
                                '<p>Clemens Endre</p>' + 
                                '<p>Sanjay Borra</p>' + 
                                '<p>Post Lounge</p>' +
                                '<p>Pranay Dev Banpur (HYD)</p>' +
                                '<p>Panache School of Music</p>' +
                                '<p>Chester Misquitta (BOM)</p>' +
                                '<p>Sourav Paul</p>' +
                                '<p>Toshi Sugano</p>' +
                                '<p>Riddhi Desai</p>' +
                                '<p>Lipi Bharadwaj</p>' +
                                '<p>Michelle Mama</p>' +
                                '<p>TT Venkatesh</p>' +
                                '<p>Anu Mahal</p>' +
                                '<p>Stuti Ramachandran</p>' +
                                '<p>Priyanka Vir</p>' +
                                '<p>Arun Verma</p>' +
                                '<p>Gurmeet Sethi</p>' +
                                '<p>Nikhil Kamkolkar</p>' +
                        '</div>' + 
                    '</div>' +
                '</div>' +
                '<div class="cast-view">' +
                    '<h2>SPECIAL THANKS</h2>' +
                    '<div class="cast-view-col-1">' + 
                            '<p>Aarti Sanan</p>' + 
                            '<p>Adhirath & Hufriz Sethi</p>' + 
                            '<p>Aarti Sanan</p>' + 
                            '<p>Adhirath & Hufriz Sethi</p>' +
                            '<p>Ajay Kolanupaka</p>' +
                            '<p>Aman Batra</p>' +
                            '<p>Amanda Mooney</p>' +
                            '<p>Andeep Singh</p>' +
                            '<p>Anil Pingali</p>' +
                            '<p>Anil Reddy</p>' +
                            '<p>Anjali Iyer</p>' +
                            '<p>Anjalika Sharma</p>' +
                            '<p>Ankur Bhatia</p>' +
                            '<p>Ankur Kaul</p>' +
                            '<p>Aparna Gulati</p>' +
                            '<p>Apoorva Bakshi</p>' +
                            '<p>Arpita Kaul</p>' +
                            '<p>Aruna Venkatachalam</p>' +
                            '<p>Athreya Chidambi</p>' +
                            '<p>Aviva Frenkel</p>' +
                            '<p>Ayesha Chari</p>' +
                            '<p>Benjamin Lu</p>' +
                            '<p>Bhavya Pydi</p>' +
                            '<p>Biswajit Bardhan</p>' +
                            '<p>Bob Gundu</p>' +
                            '<p>Bunty Chand</p>' +
                            '<p>Chester Misquitta</p>' +
                            '<p>Colin Patrick McGreal</p>' +
                    '</div>' +
                    '<div class="cast-view-col-1">' + 
                            '<p>Colleen</p>' +
                            '<p>Deepti Sastry</p>' +
                            '<p>Dimps Ghumman</p>' +
                            '<p>Ekwamente Igualmente</p>' +
                            '<p>Ela Thier</p>' +
                            '<p>Faiq G</p>' +
                            '<p>Farooq Hundekar</p>' +
                            '<p>Gargi Chawla</p>' +
                            '<p>Gautam Kishanchandani</p>' +
                            '<p>Gautam Mahmood</p>' +
                            '<p>Gee Mann</p>' +
                            '<p>Geeta Kohli</p>' +
                            '<p>Gourita Murdeshwar</p>' +
                            '<p>Harish Amin</p>' +
                            '<p>Harish Mallya</p>' +
                            '<p>Jasbir Singh Sawhney</p>' +
                            '<p>Jayesh Bagda</p>' +
                            '<p>Joseph Mathew</p>' +
                            '<p>Juancarlos Zaldivar</p>' +
                            '<p>K Devitre</p>' +
                            '<p>Kanna R</p>' +
                            '<p>Karen Wang</p>' +
                            '<p>Kartik Srinivasan</p>' +
                            '<p>Katherine Matthews</p>' +
                            '<p>Kevin Gilchrist</p>' +
                            '<p>Keya Kamat</p>' +
                            '<p>Kumar Sivan</p>' +
                            '<p>Kunal Condillac</p>' +
                    '</div>' +
                    '<div class="cast-view-col-1">' + 
                            '<p>Lakxmi Subramanian</p>' +
                            '<p>Lalit Choudhary</p>' +
                            '<p>Mahmood Al-Yousif</p>' +
                            '<p>Marisha Kirtane</p>' +
                            '<p>Meetu Pandey</p>' +
                            '<p>Megha Shenoy</p>' +
                            '<p>Meghna Damani</p>' +
                            '<p>Melanie Le Forestier</p>' +
                            '<p>Merenla Imsong</p>' +
                            '<p>Mitch Alexander</p>' +
                            '<p>Mohit Gupta</p>' +
                            '<p>Mona Singh</p>' +
                            '<p>Moti Kaul</p>' +
                            '<p>Deepak Malhotra</p>' +
                            '<p>Anil Reddy</p>' +
                            '<p>Nancy Nisa Beso</p>' +
                            '<p>Naveed Iqbal</p>' +
                            '<p>Nikhil Kohli</p>' +
                            '<p>Nitin Baid</p>' +
                            '<p>Nitin Kapoor</p>' +
                            '<p>Parinay Pande</p>' +
                            '<p>Pauline Tautu</p>' +
                            '<p>Pavani Rao</p>' +
                            '<p>Philip David Morgan</p>' +
                            '<p>Pooja Varma</p>' +
                            '<p>Poorna Jagannathan</p>' +
                            '<p>Priya Madhavan</p>' +
                            '<p>Priya Sharma</p>' +
                    '</div>' +
                    '<div class="cast-view-col-1">' + 
                            '<p>Purva Amar</p>' +
                            '<p>Radhika Yelkur</p>' +
                            '<p>Raghav Kumar</p>' +
                            '<p>Raghavan </p>' +
                            '<p>Rajiv Desai</p>' +
                            '<p>Ramji & Monica Raghavan</p>' +
                            '<p>Rattan Tiku</p>' +
                            '<p>Ravina Malani</p>' +
                            '<p>Rebecca Challis</p>' +
                            '<p>Rema Sayge</p>' +
                            '<p>Riddhika Jesrani</p>' +
                            '<p>Ritesh Parikh</p>' +
                            '<p>Rohan Narula</p>' +
                            '<p>Rohit Apte</p>' +
                            '<p>Rohit Sathe</p>' +
                            '<p>Sahil Gupta</p>' +
                    '</div>' + 
                '</div>'
                ), 
            render: function(){ 
                //Create a random number
                //if the number is odd, use template 1
                //if the number is even, use template 2
                this.$el.html(this.template());
                return this;
            }
        });

        
    
        //**** ROUTERS ****
        var Router = Backbone.Router.extend({
            routes: {
                "": 'Home',
                "team": 'Team',
                "festivals": 'Festivals',
                "updates": 'Updates',
                "about": 'About',
                "contact": 'Contact',
                "login": 'Admin-Login',
                "admin/diary": 'Admin-Diary',
                "admin/news": 'Admin-News'
            }
        });                     

        var router = new Router();

        router.on('route:Home', function() {
            navReset();
            $('.index-container').css({"margin-top": "50px"});
            var indexView = new IndexView({model: indexModel});
            var iv = indexView.render().el;
            $('#app').html(iv);
        });

        router.on('route:Festivals', function() {
            navReset();
            $('.news-model-container').css({"margin-top": "20px"});
            var newsView = new NewsView(); 
            var nv = newsView.render().el;
            $('#app').html(nv);
           
            //Reset the newslist collection with variables in newskeys
            
        });
 
        router.on('route:Updates', function() {
            navReset(); 
            //make ajax call to access diary.json
            var getJSON = $.getJSON("news.json");
            getJSON.then(function(data) {
                $.each(data, function(index, obj) {
                    diaryJSON.push(obj);
                });
            }).then(function(){
                var reverseArray = diaryJSON.reverse();
                diaryCollectionList.reset(reverseArray);
                $('.diary-collection-container').css({"margin-top": "20px"});
                var diaryCollectionView = new DiaryCollectionView({collection: diaryCollectionList}); 
                var dcv = diaryCollectionView.render().el;
                $('#app').html(dcv);
            });
            
        });

        router.on('route:Team', function() {
            navReset();
            var teamView = new TeamView();
            var tv = teamView.render().el;
            $('#app').html(tv);

        });

        router.on('route:About', function() {
            navReset();
            var synopsisView = new SynopsisView({model: synopsisModel});
            var sv = synopsisView.render().el;
            $('#app').html(sv);
        });

        router.on('route:Contact', function() {
            console.log("am I working?");
            navReset();
            var contactView = new ContactView();
            var cv = contactView.render().el;
            $('#app').html(cv);

        });

        router.on('route:Admin-Login', function() {
            $('#overlaycontainer').css({"z-index":"500", "display": "block"});
            $('#main-container').css({"display": "none"});
            $('#side-nav-container').css({"display": "none"});
            var loginModelView = new LoginModelView();
            var lv = loginModelView.render().el;
            var loginNavView = new LoginNavView();
            var lnv = loginNavView.render().el;
            $('#overlay-nav').html(lnv);
            $('#overlay-app').html(lv); 
        });

        router.on('route:Admin-Diary', function() {
            articleList = [];
            diaryJSON = {};
            $('#overlaycontainer').css({"z-index":"500", "display": "block"});
            $('#main-container').css({"display": "none"});
            $('#side-nav-container').css({"display": "none"});
            var adminNavView = new AdminNavView();
            var anv = adminNavView.render().el;
            var adminDiaryView = new AdminDiaryView();
            var adv = adminDiaryView.render().el;
            $('#overlay-nav').html(anv);
            $('#overlay-app').html(adv); 
        });

        router.on('route:Admin-News', function() {
            newsList = [];
            newsJSON = {};
            $('#overlaycontainer').css({"z-index":"500", "display": "block"});
            $('#main-container').css({"display": "none"});
            $('#side-nav-container').css({"display": "none"});
            var adminNavView = new AdminNavView();
            var anv = adminNavView.render().el;
            var adminNewsView = new AdminNewsView();
            var nv = adminNewsView.render().el;
            $('#overlay-nav').html(anv);
            $('#overlay-app').html(nv); 
        });

        Backbone.history.start();
        urlReload();
        
    </script>
        
        
         
</body>
</html>
